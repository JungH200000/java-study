# switch문

회원 **등급(`int grade`)에 따라 쿠폰 금액을 선택**하는 문제를 통해 `if`와 `switch`를 비교합니다. 핵심은 **조건의 형태(값 비교 vs 조건식)** 와 **흐름 제어(`break`, `default`)** 입니다.

---

## 문제

당신은 회원 등급에 따라 다른 쿠폰을 발급하는 프로그램을 작성해야 한다.

이 프로그램은 `int grade` 라는 변수를 사용하며, 회원 등급(`grade`)에 따라 다음의 쿠폰을 발급해야 한다. 

* 1등급: 쿠폰 1000
* 2등급: 쿠폰 2000 
* 3등급: 쿠폰 3000 
* 위의 등급이 아닐 경우: 쿠폰 500

* 각 쿠폰이 할당된 후에는 `"발급받은 쿠폰 " + 쿠폰값`을 출력해야 한다


2등급 사용자 예)

```
발급받은 쿠폰 2000
```

---

## 1) `if` 문으로 구현 (Switch1)

```java
package cond;

public class Switch1 {
    public static void main(String[] args) {
        // grade 1:1000, 2:2000, 3:3000, 나머지: 500
        int grade = 2;
        int coupon;

        if (grade == 1) {
            coupon = 1000;
        } else if (grade == 2) {
            coupon = 2000;
        } else if (grade == 3) {
            coupon = 3000;
        } else {
            coupon = 500;
        }

        System.out.println("발급받은 쿠폰 " + coupon);
    }
}
```

* 위에서부터 **순차 비교**하며 **처음 참인 분기의 값**을 할당합니다.
* 출력 예:

  ```
  발급받은 쿠폰 2000
  ```

---

## 2) `switch` 문 기본

* `switch`는 **조건식의 결과 값이 특정 `case` 값과 같은지** 비교해 **해당 블록만 실행**합니다.
* `break`: 현재 `case` 실행을 **종료**하고 `switch` 밖으로 나갑니다.
* `default`: 어떤 `case`와도 일치하지 않을 때 실행 (**`else`와 유사**, 선택 사항).

```java
// 일반 형태
switch (조건식) {
    case value1:
        // 조건식 결과가 value1일 때 실행
        break;
    case value2:
        // 조건식 결과가 value2일 때 실행
        break;
    default:
        // 어떤 case와도 일치하지 않을 때 실행 (선택)
}
```

> 요약: **값 일치 여부만**으로 분기할 때 `switch`가 **간결**합니다. (`if`는 `x > 10` 같은 **임의의 조건식** 가능)

---

## 3) `switch`로 변경 (Switch2)

```java
package cond;

public class Switch2 {
    public static void main(String[] args) {
        // grade 1:1000, 2:2000, 3:3000, 나머지: 500
        int grade = 2;
        int coupon;

        switch (grade) {
            case 1:
                coupon = 1000;
                break;
            case 2:
                coupon = 2000;
                break;
            case 3:
                coupon = 3000;
                break;
            default:
                coupon = 500;
        }

        System.out.println("발급받은 쿠폰 " + coupon);
    }
}
```

* `grade` 값과 **일치하는 `case`만 실행**하고 `break`로 종료합니다.
* 출력 예:

  ```
  발급받은 쿠폰 2000
  ```

---

## 4) `break`가 없을 때? (요구 변경: 2등급도 3000원)

* **비즈니스 요구 변경**: 2등급도 3등급과 동일하게 **3000원**.

```java
package cond;

public class Switch3 {
    public static void main(String[] args) {
        // grade 1:1000, 2:3000(변경), 3:3000, 나머지: 500
        int grade = 2;
        int coupon;

        switch (grade) {
            case 1:
                coupon = 1000;
                break;
            case 2:
            case 3:
                // case 2에는 break가 없으므로 case 3으로 "떨어져(fall-through)" 동일 처리
                coupon = 3000;
                break;
            default:
                coupon = 500;
                break;
        }

        System.out.println("발급받은 쿠폰 " + coupon);
    }
}
```

* `grade == 2`면 `case 2`에 진입하지만 **`break`가 없으므로** 바로 아래 **`case 3`의 코드**를 실행 → `coupon = 3000;`
* 최종 출력:

  ```
  발급받은 쿠폰 3000
  ```

---

## 5) if문 vs switch문

* `switch`의 조건식: **값 비교(==)** 만 가능(문자도 포함).
* `if`는 `x > 10`, `x == 10`처럼 **임의의 조건식**을 자유롭게 작성 가능.
* 결론: **`switch` 없이 `if`만으로도 구현 가능**하지만, **특정 값에 따라 분기**할 때는 `switch`가 **더 간결**합니다.

---

## 6) 자바 14의 새로운 `switch` 문 (switch 표현식)

```java
package cond;

public class Switch3 {
    public static void main(String[] args) {
        // grade 1:1000, 2:2000, 3:3000, 나머지: 500
        int grade = 2;

        int coupon = switch (grade) {
            case 1 -> 1000;
            case 2 -> 2000;
            case 3 -> 3000;
            default -> 500;
        };

        System.out.println("발급받은 쿠폰 " + coupon);
    }
}
```

* 차이점:

    * `->` 를 사용합니다.
    * **선택된 값을 반환**할 수 있어, 변수에 **직접 할당** 가능합니다.
* (자세한 내용은 별도 다룸)
