# 스코프 1 — 지역 변수와 스코프

> **핵심 한 줄 요약:** 지역 변수는 **선언된 코드 블록 `{}` 안에서만** 살아 있고, 블록을 벗어나면 **즉시 제거**되어 접근할 수 없다.

## 용어 정의

* **지역 변수(Local Variable)**
  코드 블록(`{}`) 안에서 선언되어 **그 블록 내부에서만 사용**할 수 있는 변수. 블록 종료 시 제거된다.

* **스코프(Scope)**
  **변수에 접근 가능한 범위**. 같은 변수라도 선언 위치에 따라 스코프의 **넓고 좁음**이 달라진다.

> 참고: 변수는 선언 위치에 따라 **지역 변수**, **멤버 변수(클래스 변수, 인스턴스 변수)** 로 분류된다. 이 문서에서는 **지역 변수만** 다룬다.

---

## 핵심 포인트

* 지역 변수는 **자신이 선언된 블록에서만 생존**한다.
* **내부 블록 → 외부 블록 변수 접근 가능** (예: `if` 내부에서 `main`의 변수 사용 가능)
  하지만 **외부 블록 → 내부 블록 변수 접근 불가** (블록이 끝나면 내부 변수는 제거됨).
* 제거된 변수에 접근하면 컴파일 오류(**cannot find symbol**)가 발생한다.

---

## 예제 1: `if` 블록과 지역 변수

### 코드: `Scope1`

```java
package scope;

public class Scope1 {
    public static void main(String[] args) {
        int m = 10; // m 생존 시작 (main 블록 전체에서 사용 가능)

        if (true) {
            int x = 20; // x 생존 시작 (if 블록 내부에서만 사용 가능)
            System.out.println("if m = " + m); // 내부 블록에서 외부 블록 변수 접근 가능
            System.out.println("if x = " + x); // 자신의 블록에서 선언한 변수 접근
        } // x 생존 종료 (if 블록이 끝나며 x 제거)

        // System.out.println("main x = " + x); // 오류: x는 이미 제거되어 접근 불가 (cannot find symbol)
        System.out.println("main m = " + m); // m은 여전히 생존 (main 블록이 끝날 때까지)
    } // m 생존 종료
}
```

### 설명

* `int m = 10;` 은 `main` 메서드(=바깥 블록)에서 선언 → **`main` 블록 전체**에서 접근 가능.
* `int x = 20;` 은 `if` 블록(=안쪽 블록)에서 선언 → **`if` 블록 내부**에서만 접근 가능.
* `if` 블록이 끝나면 `x`는 **제거**되므로, 이후 `x` 사용 시 **컴파일 오류**가 발생한다.

### 스코프 크기 비교

| 변수  | 선언 위치     | 스코프(접근 가능한 범위)              |
| --- | --------- | --------------------------- |
| `m` | `main` 블록 | `main { ... }` 전체 (**넓음**)  |
| `x` | `if` 블록   | 해당 `if { ... }` 내부 (**좁음**) |

---

## 예제 2: `for` 블록과 지역 변수

### 코드: `Scope2`

```java
package scope;

public class Scope2 {
    public static void main(String[] args) {
        int m = 10;

        for (int i = 0; i < 2; i++) { // i는 for 블록 내부에서만 생존
            System.out.println("for m = " + m); // 내부 블록에서 외부 변수 m 접근 가능
            System.out.println("for i = " + i); // 자신 블록의 i 접근
        } // i 생존 종료 (for 블록 종료와 함께 제거)

        // System.out.println("main i = " + i); // 오류: i는 제거되어 접근 불가
        System.out.println("main m = " + m); // m은 여전히 생존 (main 블록이 끝날 때까지)
    }
}
```

### 설명

* `for (int i = 0; ...)` 처럼 **초기식에서 선언된 변수** `i`는 **`for` 블록 내부에서만** 사용 가능.
* `for` 블록이 끝나면 `i`는 **제거**되므로, 블록 밖에서 `i`에 접근하면 **컴파일 오류**가 발생한다.
* 바깥 블록의 `m`은 `for` 블록 안에서도 **문제없이 접근 가능**하다.

---

## 지역 변수의 생명주기(동작 흐름)

1. **선언**: 변수 선언 시 **해당 블록에서 생존 시작**
2. **사용**: **선언된 블록 내부**에서만 읽기/쓰기 가능
3. **블록 종료**: 블록이 끝나면 변수는 **제거**됨
4. **접근 불가**: 제거된 변수는 **더 이상 참조할 수 없음** → `cannot find symbol` 컴파일 오류
