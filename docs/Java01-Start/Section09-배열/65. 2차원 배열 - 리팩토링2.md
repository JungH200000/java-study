# 2차원 배열 - 리펙토링2

## 구조 개선: 초기화 · 배열의 길이

* **초기화:** 2차원 배열도 **`{}`** 로 **생성과 동시에 값 초기화**가 가능합니다.
* **배열의 길이 활용:** `row < 2`, `column < 3`처럼 **숫자를 박아 넣지 말고**, 배열 길이(`arr.length`, `arr[row].length`)를 사용해 **코드 변경 없이** 크기 변화에 대응합니다.

---

## ArrayDi3

```java
package array;

public class ArrayDi3 {
    public static void main(String[] args) {
        // 2x3 2차원 배열, 초기화
        int[][] arr = {
                {1, 2, 3},
                {4, 5, 6}
        };

        // 2차원 배열의 길이를 활용
        for (int row = 0; row < arr.length; row++) {              // 행 개수
            for (int column = 0; column < arr[row].length; column++) { // 각 행의 열 개수
                System.out.print(arr[row][column] + " ");
            }
            System.out.println(); // 한 행이 끝나면 줄바꿈
        }
    }
}
```

### 초기화

* **1차원 배열 초기화 예**

  ```
  {1, 2, 3}
  ```
* **2차원 배열 초기화 예** — **밖(행), 안(열)**

  ```
  {{1, 2, 3}, {4, 5, 6}}
  ```
* 행·열이 잘 보이도록 줄바꿈을 넣으면 더 읽기 쉽습니다.

  ```
  {
    {1, 2, 3},
    {4, 5, 6}
  }
  ```

### 배열의 길이

|     | [0] | [1] | [2] |
|-----|-----|-----|-----|
| [0] | 1   | 2   | 3   |
| [1] | 4   | 5   | 6   |

* `arr.length` → **행의 길이** (여기서는 `2`)
  생각해 보면 `arr`는 `{}, {}` **두 개의 행**을 가집니다.
* `arr[row].length` → **열의 길이** (여기서는 각 행마다 `3`)
  `arr[0]`는 `{1, 2, 3}`, `arr[1]`는 `{4, 5, 6}`입니다.

> 잘 동작하는지 확인하기: 이제 **배열의 초기화 부분만** 다음처럼 바꿔도 나머지 코드는 수정 없이 동작합니다.

```
{1, 2, 3}, {4, 5, 6}, {7, 8, 9}
```

---

## 구조 개선: 값 입력

배열 크기와 무관하게 **1씩 증가하는 값**을 **순서대로** 넣어 보겠습니다.

```java
package array;

public class ArrayDi4 {
    public static void main(String[] args) {
        // 2x3 2차원 배열 (값은 아래에서 채움)
        int[][] arr = new int[2][3];

        int i = 1;

        // 순서대로 1씩 증가하는 값을 입력한다.
        for (int row = 0; row < arr.length; row++) {
            for (int column = 0; column < arr[row].length; column++) {
                arr[row][column] = i++; // 대입 후 i가 1 증가(후위 증감)
            }
        }

        // 2차원 배열의 길이를 활용해 출력
        for (int row = 0; row < arr.length; row++) {
            for (int column = 0; column < arr[row].length; column++) {
                System.out.print(arr[row][column] + " ");
            }
            System.out.println();
        }
    }
}
```

* **중첩 `for`** 로 모든 요소를 순회하며 값을 채웁니다.
* `arr[row][column] = i++;` 는 **대입 후 증가(후위 연산자)** 이므로, **현재 값**을 넣고 `i`가 1 증가합니다.
* `int i = 1` 이므로 **1부터 시작**합니다.

> **확인:** `new int[2][3]`을 `new int[4][5]`로 바꿔도 잘 동작합니다.
> `new int[4][5]`일 때 출력 예:

```
1 2 3 4 5 
6 7 8 9 10 
11 12 13 14 15 
16 17 18 19 20 
```
