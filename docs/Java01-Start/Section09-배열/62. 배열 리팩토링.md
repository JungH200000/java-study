# 배열 리펙토링

배열을 도입해 **중복 출력 코드**를 줄이고, **가독성/유지보수성**을 높이는 과정을 단계적으로 정리합니다.

---

## 배열 리펙토링 — 변수 값 사용

먼저, 개별 인덱스를 직접 사용해 값을 출력하던 부분을 확인합니다.

```java
// 변수 값 사용
System.out.println("학생1 점수: " + students[0]);
System.out.println("학생2 점수: " + students[1]);
System.out.println("학생3 점수: " + students[2]);
System.out.println("학생4 점수: " + students[3]);
System.out.println("학생5 점수: " + students[4]);
```

* 변수명이 `students`로 **공통**이므로, **숫자(인덱스)만 반복**됩니다.
* 따라서 **반복문**을 도입해 중복을 제거할 수 있습니다.

### 참고: 리펙토링(Refactoring)

* 기존 코드의 **기능은 유지**하면서 **내부 구조를 개선**해 가독성과 유지보수성을 높이는 과정입니다.
* 중복을 줄이고 복잡성을 낮추어, 버그 감소·성능 향상·설계 개선에 도움을 줍니다.
* 쉽게 말해, **동일하게 작동**하지만 **더 나은 코드**로 고치는 일입니다.

---

## Array1Ref2

```java
package array;

public class Array1Ref2 {
    public static void main(String[] args) {
        int[] students;           // 배열 변수 선언
        students = new int[5];    // 배열 생성

        // 변수 값 대입
        students[0] = 90;
        students[1] = 80;
        students[2] = 70;
        students[3] = 60;
        students[4] = 50;

        // 변수 값 사용: 반복문으로 중복 제거
        for (int i = 0; i < students.length; i++) {
            // i는 0부터 시작(배열 인덱스는 0~length-1)
            System.out.println("학생" + (i + 1) + " 점수: " + students[i]);
        }
    }
}
```

* **`students.length`**: 배열의 **길이**를 제공하는 읽기 전용 값(대입 불가)입니다.
* 현재 크기가 5이므로 `students.length`는 **5**이며, 조건 `i < students.length`에 의해 `i = 0,1,2,3,4`까지만 반복합니다.

---

## 배열 리펙토링 — 초기화

배열은 **`{}` 리터럴**을 이용해 **생성과 동시에 값 초기화**가 가능합니다.

```java
int[] students;
students = new int[]{90, 80, 70, 60, 50}; // 배열 생성과 초기화
```

### Array1Ref3

```java
package array;

public class Array1Ref3 {
    public static void main(String[] args) {
        int[] students;
        students = new int[]{90, 80, 70, 60, 50}; // 배열 생성과 초기화

        for (int i = 0; i < students.length; i++) {
            System.out.println("학생" + (i + 1) + " 점수: " + students[i]);
        }
    }
}
```

> 위 예시는 이해를 돕기 위해 **선언**과 **생성+초기화**를 **두 줄**로 나누었지만, **한 줄**로도 가능합니다.

```java
int[] students = new int[]{90, 80, 70, 60, 50}; // 배열 변수 선언 + 생성과 초기화
```

---

## 배열 리펙토링 — 간단한 배열 생성

더 간단하게, **선언과 함께**라면 `new int[]`를 생략할 수 있습니다.

```java
int[] students = {90, 80, 70, 60, 50}; // 편의 초기화
```

* 이때도 내부적으로는 요소 개수를 보고 **`new int[5]`로 배열을 생성**합니다.
* 즉, **편의 문법**으로 볼 수 있습니다.

> **주의(오류 예):** 아래 형태는 **컴파일 오류**입니다. (`{}`만 단독 대입 불가)

```java
int[] students;
students = {90, 80, 70, 50, 60}; // 오류
```

### Array1Ref4

```java
package array;

public class Array1Ref4 {
    public static void main(String[] args) {
        // 배열 생성 간략 버전: 배열 선언과 함께 사용할 때 new int[] 생략 가능
        int[] students = {90, 80, 70, 60, 50};

        for (int i = 0; i < students.length; i++) {
            System.out.println("학생" + (i + 1) + " 점수: " + students[i]);
        }
    }
}
```

> 이제 **학생 점수 추가/변경**이 필요하면 `{90, 80, 70, 60, 50}` **리터럴만 수정**하면 됩니다.
> 나머지 코드는 **변경 없이** 재사용됩니다. 배열 덕분에 프로그램 구조가 **간결**해졌습니다.
