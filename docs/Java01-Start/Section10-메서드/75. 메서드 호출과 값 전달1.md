# 메서드 호출과 값 전달1

## 1. 자바의 아주 중요한 대원칙

지금부터 자바에서 **아주 중요한 대원칙 하나**를 이야기하겠다.
**밑줄 100번 긋자!**

> **자바는 항상 변수의 값을 복사해서 대입한다.**

이 대원칙은 반드시 이해해야 한다.
이 원칙만 알고 있으면, 아무리 복잡한 상황에서도 코드를 **단순하게** 이해할 수 있다.

---

## 2. 변수와 값 복사 – `MethodValue0`

먼저 간단한 예제로, **변수와 값 복사**를 확인해 보자.
다음 코드를 보고, 어떤 결과가 나올지 먼저 생각해 보자.

### `MethodValue0` 코드

```java
package method;

public class MethodValue0 {
    public static void main(String[] args) {
        int num1 = 5;
        int num2 = num1;
        num2 = 10;

        System.out.println("num1=" + num1);
        System.out.println("num2=" + num2);
    }
}
```

### 실행 결과

```text
num1=5
num2=10
```

### 실행 과정

```java
int num2 = num1; // num1의 값은 5이다. num1(5)
int num2 = 5;    // num2 변수에 대입하기 전에 num1의 값 5를 읽는다. 결과: num1(5), num2(5)

num2 = 10;       // num2에 10을 대입한다. 결과: num1(5), num2(10)
```

여기서 **“값을 복사해서 대입한다”** 는 부분이 바로 이 부분이다.

```java
int num2 = num1;
```

이 부분을 다시 생각해 보면,

* `num1`에 있는 값 **5를 복사해서** `num2`에 넣는 것이다.
* `num1`에 들어 있는 값을 읽어도, `num1`에 있는 **기존 값은 그대로 유지**된다.
* 새로운 값은 `num2`에 들어간다.
  그래서 마치 `num1`의 값이 `num2`에 **복사**된 것처럼 동작한다.

중요한 점은 다음과 같다.

* **`num1`이라는 변수 자체가 `num2`에 들어가는 것이 아니다.**
* `num1`에 들어 있는 **값을 읽고 복사해서** `num2`에 넣는 것이다.

보통은 간단하게

> “`num1`에 있는 값을 `num2`에 대입한다.”

라고 표현한다.
하지만 실제로는 **그 값을 복사해서 대입**하는 것이다.

> “너무 당연한 이야기 아니야?” 라고 생각될 수 있다.
> 그렇다면 이제 **진짜 문제**를 만나 보자.

---

## 3. 메서드 호출과 값 복사 – `MethodValue1`

이번에는 **메서드 호출**에서 이 원칙이 어떻게 적용되는지 보자.
다음은 숫자를 **2배 곱하는 메서드**이다.
아래 코드를 보고, 어떤 결과가 나올지 먼저 생각해 보자.

### `MethodValue1` 코드

```java
package method;

public class MethodValue1 {

    public static void main(String[] args) {
        int num1 = 5;
        System.out.println("1. changeNumber 호출 전, num1: " + num1);

        changeNumber(num1);

        System.out.println("4. changeNumber 호출 후, num1: " + num1);
    }

    public static void changeNumber(int num2) {
        System.out.println("2. changeNumber 변경 전, num2: " + num2);
        num2 = num2 * 2;
        System.out.println("3. changeNumber 변경 후, num2: " + num2);
    }
}
```

> 실행 결과를 먼저 **예측**해 보고, 그 다음에 실제 실행 결과를 확인해 보자.
> 혹시라도 실행 결과의 **마지막이 10**이라고 생각했다면,
> 앞에서 본 **대원칙**을 다시 떠올려 보자.

### 실행 결과

```text
1. changeNumber 호출 전, num1: 5
2. changeNumber 변경 전, num2: 5
3. changeNumber 변경 후, num2: 10
4. changeNumber 호출 후, num1: 5
```

다음 **대원칙**을 따라간다면, 이 문제를 정확하게 이해할 수 있다.

> **자바는 항상 변수의 값을 복사해서 대입한다.**

---

## 4. 실행 과정 자세히 보기

### 4-1. `changeNumber(num1)` 호출 시점

* `num1`의 값 `5`를 **읽고 복사해서** `num2`에 전달한다.
* 이 부분이 **핵심**이다.

### 4-2. `changeNumber` 메서드 실행 중

* `num2`의 변경은 `num1`에 **영향을 주지 않는다.**
* 왜냐하면 **앞에서 값을 복사해서 전달했기 때문**이다.

### 4-3. 최종 결과 정리

실행 과정을 코드 흐름으로 다시 살펴보자.

```java
changeNumber(num1);  // changeNumber를 호출한다. num1(5)
changeNumber(5);     // num1의 값을 읽는다.

// num1의 값 5가 num2에 복사된다.
void changeNumber(int num2 = 5) // 결과: num1(5), num2(5)

num2 = num2 * 2;     // num2에 2를 곱하는 연산을 수행한다.
num2 = 5 * 2;        // num2의 값을 읽어서 2를 곱한다.
num2 = 10;           // num2에 계산 결과인 값 10을 대입한다. 결과: num1(5), num2(10)

// 출력
num2를 출력한다: num2의 값인 10이 출력된다.
num1을 출력한다: num1의 값인 5가 출력된다.
```

결과적으로,

* **매개변수 `num2`의 값만 10으로 변경**되고,
* `num1`의 값은 **변경되지 않고**, 기존 값인 5로 유지된다.

정리하면,

> 자바는 항상 **값을 복사해서 전달**하기 때문에
> `num2`의 값을 바꾸더라도, 원래 변수인 `num1`에는 **영향을 주지 않는다.**
