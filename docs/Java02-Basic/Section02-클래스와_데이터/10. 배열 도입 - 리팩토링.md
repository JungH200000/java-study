# 배열 도입 - 리팩토링

앞에서 살펴본 것처럼, **배열**을 사용하면 학생 객체들을 하나의 묶음으로 관리할 수 있다.
이제 배열 덕분에 **출력 부분에 `for`문을 도입**해서 코드를 더 깔끔하게 만들 수 있다.

---

## 1. `ClassStart5` – 배열과 for문 적용

```java
package class1;

public class ClassStart5 {
    public static void main(String[] args) {
        Student student1 = new Student();
        student1.name = "학생1";
        student1.age = 15;
        student1.grade = 90;

        Student student2 = new Student();
        student2.name = "학생2";
        student2.age = 16;
        student2.grade = 80;

        // 배열 선언
        Student[] students = new Student[]{student1, student2};

        // for문 적용
        for (int i = 0; i < students.length; i++) {
            System.out.println("이름:" + students[i].name
                    + " 나이:" + students[i].age
                    + " 성적:" + students[i].grade);
        }
    }
}
```

* `student1`, `student2` 두 학생 객체를 만든 뒤,
* `Student[] students` 배열에 두 객체를 담는다.
* 그 다음 `for`문을 사용해서 **배열 길이(`students.length`)만큼 반복**하며
  각 학생의 정보를 출력한다.

이제 학생이 추가되더라도, 배열에만 학생을 더 넣으면 되기 때문에
출력 코드를 반복해서 늘릴 필요가 없다.

---

## 2. 배열 선언 최적화

우리가 직접 정의한 `Student` 타입도,
다른 타입과 마찬가지로 **배열 생성 시 함께 사용할 수 있다.**

기본 형태:

```java
Student[] students = new Student[]{student1, student2};
```

배열 **생성과 초기화를 동시에** 하는 경우에는
다음과 같이 더 간결하게 작성할 수 있다.

```java
Student[] students = {student1, student2};
```

* 두 코드는 같은 의미이며,
* 두 학생 객체의 **참조값을 요소로 가지는 배열**을 만든다.

---

## 3. for문 최적화

배열을 사용하면, **`for`문으로 반복 작업**을 간단하게 처리할 수 있다.

### 3-1. 기본 for문

```java
for (int i = 0; i < students.length; i++) {
    System.out.println("이름:" + students[i].name + " 나이:" + students[i].age + ...);
}
```

* `i`를 이용해 `students[i]`에 차례대로 접근하면서
* 각 학생의 정보를 출력한다.

### 3-2. 반복 요소를 변수에 담아서 사용하기

`students[i].name`, `students[i].age`처럼
`students[i]`에 여러 번 접근하는 것이 번거롭다면,
반복해서 사용할 객체를 **지역 변수에 한 번 담아두고** 쓰면 된다.

```java
for (int i = 0; i < students.length; i++) {
    Student s = students[i];
    System.out.println("이름:" + s.name + " 나이:" + s.age + ...);
}
```

* `Student s = students[i];`
  → 현재 인덱스에 있는 학생 객체를 `s`에 담아 두고,
* 이후에는 `s.name`, `s.age`처럼 **더 짧은 표현**으로 사용할 수 있다.

### 3-3. 향상된 for문(Enhanced For Loop)

위와 같은 패턴에서는 **향상된 for문**을 사용하면 가장 깔끔하다.

```java
for (Student s : students) {
    System.out.println("이름:" + s.name + " 나이:" + s.age + " 성적:" + s.grade);
}
```

* `students` 배열에서 **각 요소를 순서대로 꺼내서**
  `s` 변수에 담고, 그 학생 정보를 출력한다.
* 인덱스(`i`)를 직접 다루지 않아도 되므로 코드가 더 간단하고 읽기 쉽다.
